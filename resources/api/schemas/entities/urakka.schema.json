{
  "$schema": "http://json-schema.org/draft-03/schema#",
  "id": "http://jsonschema.net/urakka",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "urakka": {
      "id": "http://jsonschema.net/urakka/urakka",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "tiedot": {
          "id": "http://jsonschema.net/urakka/otsikko",
          "type": "object",
          "additionalProperties": false,
          "$ref": "file:resources/api/schemas/entities/urakka-otsikko.schema.json",
          "required": true
        },
        "sopimukset": {
          "id": "http://jsonschema.net/urakka/sopimukset",
          "type": "array",
          "items": {
            "id": "http://jsonschema.net/urakka/sopimukset/0",
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "sopimus": {
                "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus",
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "id": {
                    "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/id",
                    "type": "integer",
                    "required": true
                  },
                  "nimi": {
                    "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/nimi",
                    "type": "string",
                    "required": true
                  },
                  "alkupvm": {
                    "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/alkupvm",
                    "type": "string",
                    "format": "date-time"
                  },
                  "loppupvm": {
                    "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/loppupvm",
                    "type": "string",
                    "format": "date-time"
                  },
                  "paasopimusId": {
                    "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/paasopimusId",
                    "type": "integer"
                  },
                  "kokonaishintaisetTyot": {
                    "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/kokonaishintaisetTyot",
                    "type": "array",
                    "items": {
                      "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/kokonaishintaisetTyot/0",
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "kokonaishintainenTyo": {
                          "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/kokonaishintaisetTyot/0/kokonaishintainenTyo",
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "id": {
                              "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/kokonaishintaisetTyot/0/kokonaishintainenTyo/id",
                              "type": "integer",
                              "required": true
                            },
                            "tehtavat": {
                              "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/kokonaishintaisetTyot/0/kokonaishintainenTyo/tehtavat",
                              "type": "array",
                              "items": {
                                "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/kokonaishintaisetTyot/0/kokonaishintainenTyo/tehtavat/0",
                                "type": "object",
                                "properties": {
                                  "tehtava": {
                                    "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/kokonaishintaisetTyot/0/kokonaishintainenTyo/tehtavat/0/tehtava",
                                    "type": "object",
                                    "$ref": "file:resources/api/schemas/entities/tehtava.schema.json"
                                  }
                                }
                              }
                            },
                            "vuosi": {
                              "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/kokonaishintaisetTyot/0/kokonaishintainenTyo/vuosi",
                              "type": "integer"
                            },
                            "kuukausi": {
                              "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/kokonaishintaisetTyot/0/kokonaishintainenTyo/kuukausi",
                              "type": "integer"
                            },
                            "summa": {
                              "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/kokonaishintaisetTyot/0/kokonaishintainenTyo/summa",
                              "type": "number"
                            }
                          }
                        }
                      }
                    }
                  },
                  "yksikkohintaisetTyot": {
                    "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/yksikkohintaisetTyot",
                    "type": "array",
                    "items": {
                      "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/yksikkohintaisetTyot/0",
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "yksikkohintainenTyo": {
                          "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/yksikkohintaisetTyot/0/yksikkohintainenTyo",
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "id": {
                              "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/yksikkohintaisetTyot/0/yksikkohintainenTyo/id",
                              "type": "integer",
                              "required": true
                            },
                            "tehtava": {
                              "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/yksikkohintaisetTyot/0/yksikkohintainenTyo/tehtava",
                              "type": "object",
                              "additionalProperties": false,
                              "$ref": "file:resources/api/schemas/entities/tehtava.schema.json",
                              "required": true
                            },
                            "alkupvm": {
                              "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/yksikkohintaisetTyot/0/yksikkohintainenTyo/alkupvm",
                              "type": "string",
                              "format": "date-time"
                            },
                            "loppupvm": {
                              "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/yksikkohintaisetTyot/0/yksikkohintainenTyo/loppupvm",
                              "type": "string",
                              "format": "date-time"
                            },
                            "maara": {
                              "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/yksikkohintaisetTyot/0/yksikkohintainenTyo/maara",
                              "type": "number"
                            },
                            "yksikko": {
                              "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/yksikkohintaisetTyot/0/yksikkohintainenTyo/yksikko",
                              "type": "string"
                            },
                            "yksikkohinta": {
                              "id": "http://jsonschema.net/urakka/sopimukset/0/sopimus/yksikkohintaisetTyot/0/yksikkohintainenTyo/yksikkohinta",
                              "type": "number"
                            }
                          }
                        }
                      }
                    }
                  },
                  "materiaalinKaytot": {
                    "id": "http://jsonschema.net/materiaalinKaytot",
                    "type": "array",
                    "items": {
                      "id": "http://jsonschema.net/materiaalinKaytot/0",
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "materiaalinKaytto": {
                          "id": "http://jsonschema.net/materiaalinKaytot/0/materiaalinKaytto",
                          "type": "object",
                          "additionalProperties": false,
                          "additionalProperties": false,
                          "properties": {
                            "maara": {
                              "id": "http://jsonschema.net/materiaalinKaytot/0/materiaalinKaytto/maara",
                              "type": "object",
                              "additionalProperties": false,
                              "$ref": "file:resources/api/schemas/entities/maara.schema.json"
                            },
                            "alkupvm": {
                              "id": "http://jsonschema.net/materiaalinKaytot/0/materiaalinKaytto/alkupvm",
                              "type": "string"
                            },
                            "loppupvm": {
                              "id": "http://jsonschema.net/materiaalinKaytot/0/materiaalinKaytto/loppupvm",
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}