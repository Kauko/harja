/* Geneerinen editoitava gridi */

/*
font: #191919
border: 1px solid #afafaf background-header: #c8c8c8 background-odd: #fafafa background-even: #e1e1e1
*/

.virhe-tai-varoitus-grid (@taustavari, @vari) {
  background-color: @taustavari;
  bottom: 5px;
  color: @vari;
  padding: 5px;
  position: absolute;
  width: 100%;
}

@livi-taulukon-padding: 5px;
.livi-taulukon-reunat {
  border: 1px solid @harmaa7;
}

.livi-grid {
  color: @harmaa1;
  // pienen napin sisässä on pientä tekstiä, tämä estää esim. panel headerin kasvattamasta ikoneita
  // tämähän on vähän nastya, vaihtoehtona poistaa bs:n panel-heading luokka gridistä.
  .panel-heading {
    h6 {
      display: inline;
    }
    // anna padding top ja bottom tulla BS:stä
    padding-left: 0;
    padding-right: 0;
    button {
      padding: 4px 8px;
    }
    .nappi-ensisijainen span,
    .nappi-toissijainen span,
    .nappi-myonteinen span,
    .nappi-kielteinen span, {
      font-size: @fontin-koko-leipateksti;
    }
  }
  div.panel-body {
    padding: 0;
  }
  table {
    font-size: @fontin-koko-taulukko;
    td {
      overflow: hidden;

      input:not([type="checkbox"]), select {
        width: 100%;
        z-index: 10;
	height: @input-korkeus;
      }
      .kombo {
        width: 75%; // jotta caret näkyisi samalla rivillä (flexbox tähän?)
      }
      .dropdown-menu {
        z-index: 1000;
        margin-top: 0;
      }

      .varoitukset,
      .virheet {
        display: none;
        position: relative;
      }
      .varoitus {
        .virhe-tai-varoitus-grid(@varoitus, @valkoinen);
      }
      .virhe {
        .virhe-tai-varoitus-grid(@vaara, @valkoinen);
      }
    }

    td:hover {
      // jotta pulldown valinnat näkyvät
      overflow: visible;

      .varoitukset,
      .virheet {
        display: block;
      }
    }

    width: 100%;
    border-collapse: collapse;
    table-layout: fixed;
  }
  thead {
    background-color: @harmaa9;
  }
  table.grid tr.vetolaatikko-auki {
    display: table-row;
    > td {
      padding-top: 10px;
      padding-bottom: 30px;
      padding-left: 15px;
    }
  }

  // tablen rivien korkeutta ei oikein voi animoida, tarvittaisiin pure div pohjainen grid
  tr.vetolaatikko-kiinni {
    display: none;
  }
  td.vetolaatikon-tila {
    text-align: center;
  }
  tr, td, th {
    padding: @livi-taulukon-padding;
    .livi-taulukon-reunat;
    .pvm-aika-kentta td {
      padding: 0;
    }
  }

  th.muokataan {
    width: 20px;
  }

  .sisaltaa-virheen {
    .sisaltaa-virheen-tai-varoituksen(@vaara);
  }
  .sisaltaa-varoituksen {
    .sisaltaa-virheen-tai-varoituksen(@varoitus);
  }
  .grid-muokkaa {
    margin-bottom: 1px;
  }
  .muokkaustoiminnot {
    margin-bottom: 1px;
    button {
      margin-right: 1em;
    }
    button:last-child {
      margin-right: 0;
    }
    .ikoni {
      position: relative;
      top: 5px;
    }
  }

  table th {
    overflow: hidden;
  }

  .panel-title {
    color: @harmaa1;
    font-size: @fontin-koko-leipateksti;
  }

  button.grid-lisaa {
    margin-right: 3em;
  }

  td.toiminnot span {
    display: inline-block;
    .livicon-trash {
      line-height: @input-korkeus;
    }
  }

  div.pvm {
    position: relative;
  }
  tr.parillinen {
    background-color: @harmaa11;
  }
  tr.pariton {
    background-color: @harmaa10;
  }
  tr.rivi-valittu {
    color: @valkoinen;
    background-color: @harmaa7;
  }
  tr.yhteenveto {
    background-color: @harmaa10;
    border-bottom: 2px solid @harmaa7;
    border-top: 2px solid @harmaa7;
    font-weight: bold;
  }
  tr.klikattava:hover {
    cursor: pointer;
    background-color: #D2CFCE;
  }
  .ei-arvoa {
    color: @varoitus;
  }

  tr.muokataan td {
    vertical-align: top;
  }
}

.gridin-napit-alhaalla {
  .panel-heading {
    padding: 2px 0px;
    height: 35px
  }
}

.nappi-toissijainen.nappi-tayta {
  margin: 1px;
  padding: 1px 4px;
}

.nappi-grid {
  width: 100%;
  max-width: 250px;
  padding-left: 0;
  padding-right: 0;
  overflow: hidden;
}

// Gridin väliotsikkotyyli
tr.otsikko {
  background-color: @harmaa5;
  color: @valkoinen;

}

> * {
  display: inline-block;
}

.kelluta-tayta-nappi {
  height: 31px; //sama korkeus kuin alasvedolla ympärillä
  z-index: 1000;
}

// Apuluokkia gridin hallintaan


.grid-kk-sarake {
  word-spacing: -3px; // Välilyönnit hoitavat rivinvaihdot luomatta tavutusmerkkiä, mutta niitä ei haluta nähdä
}

.grid-pakota-rivitys {
  word-break: break-word;
}
